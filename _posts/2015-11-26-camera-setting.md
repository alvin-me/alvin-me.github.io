---
layout: post
title: "OpenGL相机设置"
tagline: ""
category : doc
tags : ["OpenGL"]
---

关于相机的摆放按其在可视化中的实际使用情况，将其分为两类：广角和长焦(借用了数码相机中的概念)。

<div class="illustration">
	<img src="{{ BASE_PATH }}/images/wide-angle-telephoto.png" width="80%"/>
	<div class="text"><p>Fig.1 左:广角相机，右:长焦相机</p></div>
</div>



#### 1、长焦相机

视锥体的前表面距离相机位置较远，可以保证模型在旋转的过程中能够尽可能的充满整个视锥体。这样做的好处是，在计算深度信息时深度值均匀的分布在$[0,1]$之间，有效的避免Z-fighting问题。在可视化的大多数场景中相机的摆放都是该类方式，一些需要深度检测的显示算法，如**volume-object的混合渲染**等，可以得到很好的呈现效果。

#### 2、广角相机

视锥体的前表面距离相机位置很近，视场角很大。这种方式和人的眼睛观察更相符，物体投影到前表面呈像可以近似为相机所在位置观测到的图像。这种方式的缺陷是它的深度信息集中在一个较窄的区域，在做深度检测时常常会因为精度不够导致出现问题。

广角相机在可视化中也有其应用场景。当我们将相机移入模型内部进行观测时，如**虚拟内窥镜(virtual colonscopy)**，这时就需要使用广角方式进行观测。

#### 3、模型变换

模型的平移和旋转可以通过改变相机位置和朝向来实现。模型的缩放有两种实现方式，简单的做法是拉进或拉远相机和模型之间的距离从而放大或缩小模型，但是模型放得太大时通常会导致模型被视锥体近表面所裁剪。另一种方法是改变视场角，缩小视场角模型看起来就变大了，这种方式实际上模型与相机间的相对距离是不变的，可以有效的避免视锥体裁剪问题。